"use strict";(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[7984],{"../../../node_modules/.pnpm/react-player@3.3.1_@types+react-dom@18.3.7_@types+react@18.3.26__@types+react@18.3.26_r_e4f1d48620e6ebc81efbdbf89b5250e7/node_modules/react-player/dist/Preview.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Preview_default}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const cache={};var Preview_default=({src:src,light:light,oEmbedUrl:oEmbedUrl,onClickPreview:onClickPreview,playIcon:playIcon,previewTabIndex:previewTabIndex,previewAriaLabel:previewAriaLabel})=>{const[image,setImage]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{src&&light&&oEmbedUrl&&fetchImage({src:src,light:light,oEmbedUrl:oEmbedUrl})},[src,light,oEmbedUrl]);const fetchImage=async({src:src2,light:light2,oEmbedUrl:oEmbedUrl2})=>{if(react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(light2))return;if("string"==typeof light2)return void setImage(light2);if(cache[src2])return void setImage(cache[src2]);setImage(null);const response=await fetch(oEmbedUrl2.replace("{url}",src2)),data=await response.json();if(data.thumbnail_url){const fetchedImage=data.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");setImage(fetchedImage),cache[src2]=fetchedImage}},isElement=react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(light),flexCenter={display:"flex",alignItems:"center",justifyContent:"center"},styles={preview:{width:"100%",height:"100%",backgroundImage:image&&!isElement?`url(${image})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...flexCenter},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:"64px",width:"64px",height:"64px",position:isElement?"absolute":void 0,...flexCenter},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},defaultPlayIcon=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:styles.shadow,className:"react-player__shadow"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:styles.playIcon,className:"react-player__play-icon"}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:styles.preview,className:"react-player__preview",tabIndex:previewTabIndex,onClick:e=>{null==onClickPreview||onClickPreview(e)},onKeyPress:e=>{"Enter"!==e.key&&" "!==e.key||null==onClickPreview||onClickPreview(e)},...previewAriaLabel?{"aria-label":previewAriaLabel}:{}},isElement?light:null,playIcon||defaultPlayIcon)}}}]);